<div class="container">
  <h1 id="tableLabel">Fake Data Generator</h1>

  <p>This component demonstrates fetching data from the server.</p>

  <div class="row border p-1">
    <div class="col">
      <h2>Entities</h2>
      <button (click)="addEntity()" class="btn btn-outline-primary">Add Entity</button>
      <div class="row mt-2 border p-2" *ngFor="let entity of entities; index as i">
        <div class="row mt-1">
          <div class="col">
            <h4>Entity name:</h4>
          </div>
          <div class="col">
            <input class="form-control" (input)="onChangeEntityName(entity, $event)"/>
          </div>
          <div class="col"></div>
        </div>
        <div class="row mt-3">
          <div class="col">Name</div>
          <div class="col">Type</div>
          <div class="col">Primary Key</div>
          <div class="col"></div>
        </div>
        <div class="row mt-1" *ngFor="let attribute of entity.attributes; index as j">
          <div class="col">
            <input (input)="onChangeAttrName(attribute, $event)" 
            class="form-control" value="{{attribute.attrName}}"/>
          </div>
          <div class="col">
            <select class="form-control" (change)="onChangeAttrType(attribute, $event)">
              <option selected disabled>{{attribute.attrType}}</option>
              <option *ngFor="let attrType of allAttrTypeList">{{attrType}}</option>
            </select>
          </div>
          <div class="col">
            <select class="form-control" value="{{attribute.attrIsPK}}" (change)="onChangeAttrIsPK(attribute, $event)">
              <option>true</option>
              <option>false</option>
            </select>
          </div>
          <div class="col">
            <button (click)="delAttr(entity.attributes, j)" class="btn btn-outline-danger ">Delete Attribute</button>
          </div>
        </div>
        <div class="row mt-5">
          <div class="col"><button (click)="addAttr(entity)" class="btn btn-outline-primary">Add Attribute</button></div>
          <div class="col"><button (click)="delEntity(i)" class="btn btn-outline-danger">Delete Entity</button></div>
          <div class="col"></div>
          <div class="col">
            <label >Row Number:</label>
            <input type="number" class="form-control" (input)="onChangeRows(entity, $event)" value="{{entity.rows}}"/>
          </div>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col">
          <!-- <button (click)="addEntity()" class="btn btn-outline-primary">Add Entity</button> -->
        </div>
        <div class="col"></div>
        <div class="col"></div>
        <div class="col"></div>
      </div>
      <div class="row mt-1">
      </div>
    </div>
    
    <!-- <div class="col">
  
    </div> -->
  </div>

  <div class="row mt-5 border p-1">
    <div class="col">
      <h2>Relations</h2>
      <button class="btn btn-outline-primary">Add Relation</button>

    </div>

  </div>

  
  
</div>


<!-- <div *ngFor="let item of map | keyvalue">
    {{item.key}} - {{item.value}}
</div> -->

